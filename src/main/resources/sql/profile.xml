<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="profile">
	<insert id="insert" parameterType="map">
		insert into PROFILE values(#{id} , #{profile.PROFILE_REAL_NAME} , #{profile.PROFILE_IMG_FILE} , #{profile.PROFILE_IMG_ORI} , #{profile.PROFILE_TECH_FRONT} ,
							#{profile.PROFILE_TECH_BACK}, #{profile.PROFILE_BLOG} , #{profile.PROFILE_JOB} , '0', #{profile.PROFILE_EMAIL} , #{profile.PROFILE_PHONE} , #{profile.PROFILE_GIT} , #{profile.PROFILE_INTRO} , #{profile.PROFILE_YEAR},
							#{profile.PROFILE_STRENGTH1} , #{profile.PROFILE_STRENGTH2},#{profile.PROFILE_TECH_INTRO})
	</insert>
	<select id="checkid" parameterType="String" resultType="int">
		select count(*) from PROFILE where MEMBER_ID = #{MEMBER_ID}
	</select>
	
	<select id ="profile_view" parameterType="String" resultType="Profile">
		select * from PROFILE where MEMBER_ID=#{id}
	</select>
	
	<select id="portfolioImg" parameterType="String" resultType="Profile">
		select PORT_FILE_PATH , PORT_SUBJECT from PORTFOLIO where MEMBER_ID=#{id}
	</select>
	
	<update id="update_profile" parameterType="map">
	  update PROFILE set
	  					<if test="profile.PROFILE_REAL_NAME != null">
	  					PROFILE_REAL_NAME = #{profile.PROFILE_REAL_NAME}
	  					</if> 
	  					,PROFILE_IMG_FILE = #{profile.PROFILE_IMG_FILE},
	  					PROFILE_IMG_ORI = #{profile.PROFILE_IMG_ORI}
	  					<if test="profile.PROFILE_BLOG != null">
	  					,PROFILE_BLOG = #{profile.PROFILE_BLOG}
	  					</if>
	  					,PROFILE_EMAIL = #{profile.PROFILE_EMAIL},
	  					PROFILE_PHONE = #{profile.PROFILE_PHONE},
	  					PROFILE_GIT = #{profile.PROFILE_GIT} 
	  					where MEMBER_ID = #{id}
	  					
	</update>
	<update id = "update_profile_intro" parameterType="map">
		update PROFILE set
	  					PROFILE_YEAR = #{profile.PROFILE_YEAR},
	  					PROFILE_STRENGTH1 = #{profile.PROFILE_STRENGTH1},
	  					PROFILE_STRENGTH2 = #{profile.PROFILE_STRENGTH2},
	  					PROFILE_INTRO = #{profile.PROFILE_INTRO}
	  					where MEMBER_ID = #{id}
	</update>
	
	<update id="update_profile_skill" parameterType="map">
		update PROFILE set
	  					PROFILE_TECH_FRONT = #{profile.PROFILE_TECH_FRONT},
	  					PROFILE_TECH_BACK = #{profile.PROFILE_TECH_BACK},
	  					PROFILE_TECH_INTRO = #{profile.PROFILE_TECH_INTRO}
	  					where MEMBER_ID = #{id}
	</update>


</mapper>